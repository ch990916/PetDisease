<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.paramhwi.dogDisease.member.MemberMapper">
	<insert id="joinMember" parameterType="com.paramhwi.dogDisease.member.Member">
		insert into petdisease_member
		values(
			#{pm_id},
			#{pm_pw},
			#{pm_nickname},
			#{pm_address},
			#{pm_birthday},
			#{pm_photo},
			#{pm_mail},
			#{pm_admin}
		)
	</insert>
	<select id="getMemberByID" parameterType="com.paramhwi.dogDisease.member.Member" resultType="com.paramhwi.dogDisease.member.Member">
		select * from petdisease_member
		where pm_id=#{pm_id}
	</select>
	<select id="getMemberByID2" parameterType="com.paramhwi.dogDisease.member.Member" resultType="com.paramhwi.dogDisease.member.Member">
		select * from petdisease_member
		where pm_id=#{pm_id}
	</select>
	<delete id="deleteMember" parameterType="com.paramhwi.dogDisease.member.Member">
		delete from petdisease_member
		where pm_id=#{pm_id}
	</delete>
	<update id="updateMember" parameterType="com.paramhwi.dogDisease.member.Member">
		update petdisease_member
		set pm_nickname=#{pm_nickname},
			pm_pw=#{pm_pw},
			pm_address=#{pm_address},
			pm_photo=#{pm_photo}
		where pm_id=#{pm_id}
	</update>
	<select id="getPostCount" parameterType="com.paramhwi.dogDisease.member.Member" resultType="java.lang.Integer">
		select count(*)
		from petdisease_post
		where pp_writer=#{pm_id}
	</select>
	<select id="adminMemberGet" resultType="com.paramhwi.dogDisease.member.Member">
		select * from petdisease_member
		order by pm_admin desc,pm_id
	</select>
	<update id="updateAdmin" parameterType="com.paramhwi.dogDisease.member.Member">
		update petdisease_member
		set pm_admin=#{pm_admin}
		where pm_id=#{pm_id}
	</update>
</mapper>